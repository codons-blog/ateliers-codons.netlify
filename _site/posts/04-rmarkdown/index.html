<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John Godlee">
<meta name="author" content="Jonathan Kitt (adaptation)">
<meta name="dcterms.date" content="2022-10-24">

<title>Ateliers codons - Introduction à RMarkdown</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Ateliers codons</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/codons-blog/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Introduction à RMarkdown</h1>
            <p class="subtitle lead">Utiliser RMarkdown pour rédiger des rapports</p>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">RStudio</div>
                <div class="quarto-category">Tidyverse</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>John Godlee </p>
               <p>Jonathan Kitt (adaptation) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 24, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sommaire</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#quest-ce-que-r-markdown" id="toc-quest-ce-que-r-markdown" class="nav-link" data-scroll-target="#quest-ce-que-r-markdown">Qu’est-ce que R Markdown ?</a></li>
  <li><a href="#pré-requis" id="toc-pré-requis" class="nav-link" data-scroll-target="#pré-requis">Pré-requis</a></li>
  </ul></li>
  <li><a href="#créer-un-document-r-markdown" id="toc-créer-un-document-r-markdown" class="nav-link" data-scroll-target="#créer-un-document-r-markdown">Créer un document R Markdown</a>
  <ul class="collapse">
  <li><a href="#ouvrir-un-nouveau-fichier-r-markdown" id="toc-ouvrir-un-nouveau-fichier-r-markdown" class="nav-link" data-scroll-target="#ouvrir-un-nouveau-fichier-r-markdown">Ouvrir un nouveau fichier R Markdown</a></li>
  <li><a href="#ajouter-un-en-tête" id="toc-ajouter-un-en-tête" class="nav-link" data-scroll-target="#ajouter-un-en-tête">Ajouter un en-tête</a></li>
  <li><a href="#compiler-un-document-r-markdown" id="toc-compiler-un-document-r-markdown" class="nav-link" data-scroll-target="#compiler-un-document-r-markdown">Compiler un document R Markdown</a></li>
  </ul></li>
  <li><a href="#les-bases-de-r-markdown" id="toc-les-bases-de-r-markdown" class="nav-link" data-scroll-target="#les-bases-de-r-markdown">Les bases de R Markdown</a>
  <ul class="collapse">
  <li><a href="#mettre-en-forme-le-texte" id="toc-mettre-en-forme-le-texte" class="nav-link" data-scroll-target="#mettre-en-forme-le-texte">Mettre en forme le texte</a></li>
  <li><a href="#insérer-des-titres" id="toc-insérer-des-titres" class="nav-link" data-scroll-target="#insérer-des-titres">Insérer des titres</a></li>
  <li><a href="#insérer-une-ligne-horizontale" id="toc-insérer-une-ligne-horizontale" class="nav-link" data-scroll-target="#insérer-une-ligne-horizontale">Insérer une ligne horizontale</a></li>
  <li><a href="#insérer-des-listes" id="toc-insérer-des-listes" class="nav-link" data-scroll-target="#insérer-des-listes">Insérer des listes</a></li>
  <li><a href="#insérer-un-tableau" id="toc-insérer-un-tableau" class="nav-link" data-scroll-target="#insérer-un-tableau">Insérer un tableau</a></li>
  <li><a href="#equations" id="toc-equations" class="nav-link" data-scroll-target="#equations">Equations</a></li>
  <li><a href="#insérer-une-image" id="toc-insérer-une-image" class="nav-link" data-scroll-target="#insérer-une-image">Insérer une image</a></li>
  </ul></li>
  <li><a href="#rédiger-un-document-de-façon-dynamique" id="toc-rédiger-un-document-de-façon-dynamique" class="nav-link" data-scroll-target="#rédiger-un-document-de-façon-dynamique">Rédiger un document de façon dynamique</a>
  <ul class="collapse">
  <li><a href="#insérer-un-bloc-de-code-r" id="toc-insérer-un-bloc-de-code-r" class="nav-link" data-scroll-target="#insérer-un-bloc-de-code-r">Insérer un bloc de code R</a></li>
  <li><a href="#paramétrer-un-bloc-de-code" id="toc-paramétrer-un-bloc-de-code" class="nav-link" data-scroll-target="#paramétrer-un-bloc-de-code">Paramétrer un bloc de code</a></li>
  <li><a href="#exécuter-du-code-dans-le-texte" id="toc-exécuter-du-code-dans-le-texte" class="nav-link" data-scroll-target="#exécuter-du-code-dans-le-texte">Exécuter du code dans le texte</a></li>
  </ul></li>
  <li><a href="#transformer-un-script-en-.rmd" id="toc-transformer-un-script-en-.rmd" class="nav-link" data-scroll-target="#transformer-un-script-en-.rmd">Transformer un script en .Rmd</a>
  <ul class="collapse">
  <li><a href="#introduction-1" id="toc-introduction-1" class="nav-link" data-scroll-target="#introduction-1">Introduction</a></li>
  <li><a href="#importer-les-données" id="toc-importer-les-données" class="nav-link" data-scroll-target="#importer-les-données">Importer les données</a></li>
  <li><a href="#décrire-les-données" id="toc-décrire-les-données" class="nav-link" data-scroll-target="#décrire-les-données">Décrire les données</a></li>
  <li><a href="#représenter-les-données" id="toc-représenter-les-données" class="nav-link" data-scroll-target="#représenter-les-données">Représenter les données</a></li>
  </ul></li>
  <li><a href="#modifier-le-format-du-document" id="toc-modifier-le-format-du-document" class="nav-link" data-scroll-target="#modifier-le-format-du-document">Modifier le format du document</a>
  <ul class="collapse">
  <li><a href="#document-word" id="toc-document-word" class="nav-link" data-scroll-target="#document-word">Document Word</a></li>
  <li><a href="#document-pdf" id="toc-document-pdf" class="nav-link" data-scroll-target="#document-pdf">Document PDF</a></li>
  </ul></li>
  <li><a href="#modifier-lapparence-dun-document" id="toc-modifier-lapparence-dun-document" class="nav-link" data-scroll-target="#modifier-lapparence-dun-document">Modifier l’apparence d’un document</a>
  <ul class="collapse">
  <li><a href="#ajouter-une-table-des-matières" id="toc-ajouter-une-table-des-matières" class="nav-link" data-scroll-target="#ajouter-une-table-des-matières">Ajouter une table des matières</a></li>
  <li><a href="#modifier-le-thème" id="toc-modifier-le-thème" class="nav-link" data-scroll-target="#modifier-le-thème">Modifier le thème</a></li>
  </ul></li>
  <li><a href="#partager-un-document" id="toc-partager-un-document" class="nav-link" data-scroll-target="#partager-un-document">Partager un document</a></li>
  <li><a href="#bonus-créer-un-diaporama" id="toc-bonus-créer-un-diaporama" class="nav-link" data-scroll-target="#bonus-créer-un-diaporama">Bonus : créer un diaporama</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><em>Ce tutoriel est adapté de <a href="https://ourcodingclub.github.io/tutorials/rmarkdown/">Getting started with R Markdown</a> du site <a href="https://ourcodingclub.github.io/">Our Coding Club</a>.</em></p>
<p><br></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="quest-ce-que-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="quest-ce-que-r-markdown">Qu’est-ce que R Markdown ?</h2>
<p>R Markdown vous permet de créer des documents, notamment des rapports de vos analyses. Les personnes qui liront votre code doivent pouvoir facilement comprendre votre code et obtenir les mêmes résultats : c’est la <strong>reproductibilité</strong>.</p>
<p>Vous pouvez créer un document R Markdown et le partager, ou vous en servir à titre personnel pour garder une trace des étapes et des résultats d’une analyse.</p>
<p>R Markdown permet d’afficher le code utilisé et les résultats obtenus (graphiques, tables, …) ainsi que des commentaires explicatifs, un peu à la manière d’un cahier de laboratoire.</p>
<p>R Markdown utilise la syntaxe Markdown, un langage <em>markup</em> qui propose des outils pour créer des documents avec des en-têtes, des images, des liens, …</p>
<p>Un document Markdown peut être converti en différents formats comme du <em>html</em> ou du <em>pdf</em>.</p>
<p>Lorsque vous créez un fichier R Markdown (<code>.Rmd</code>), vous utiliserez la syntaxe Markdown aux côtés de blocs de code écrits en R (ou d’autres langages de programmation). Ce fichier est ensuite compilé : le format Markdown et le code sont évalués, et un fichier de sortie (<code>html</code>, <code>pdf</code>, …) est généré.</p>
<p><br></p>
</section>
<section id="pré-requis" class="level2">
<h2 class="anchored" data-anchor-id="pré-requis">Pré-requis</h2>
<p>Si vous n’avez pas suivi les autres tutoriels, vous pouvez <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/#créer-un-projet">créer un projet RStudio</a> et <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/#créer-une-arborescence">une arborescence</a>.</p>
<p>Pour utiliser RMarkdown dans RStudio, installez et chargez le package <code>rmarkdown</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="créer-un-document-r-markdown" class="level1">
<h1>Créer un document R Markdown</h1>
<section id="ouvrir-un-nouveau-fichier-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="ouvrir-un-nouveau-fichier-r-markdown">Ouvrir un nouveau fichier R Markdown</h2>
<p>Pour créer un nouveau document R Markdown (.RMd), cliquez sur <em>File &gt; New File &gt; R Markdown …</em>. Vous pouvez également cliquer sur le symbole <em>Plus</em> et choisir <em>R Markdown…</em>.</p>
<p><img src="img/rmd_01.png" class="img-fluid" style="width:75.0%"></p>
<p>Dans la fenêtre qui s’ouvre, laissez les paramètres par défaut et cliquez sur <em>Create Empty Document</em> (en cliquant sur <em>OK</em> vous créerez un document pré-rempli).</p>
<p>Votre document vide s’ouvre dans la fenêtre en haut à gauche de RStudio.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_02.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_03.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="ajouter-un-en-tête" class="level2">
<h2 class="anchored" data-anchor-id="ajouter-un-en-tête">Ajouter un en-tête</h2>
<p>Un document Rmd débute par une section d’en-tête encadrée par trois tirets et qui contient généralement les éléments suivants :</p>
<ul>
<li><p>un titre</p></li>
<li><p>les auteurs</p></li>
<li><p>la date</p></li>
<li><p>le format de sortie</p></li>
</ul>
<p>Voici un exemple d’en-tête à insérer en haut de votre ficher .Rmd :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> html_document</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Le YAML
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cet en-tête s’appelle un <strong>YAML : Yet Another Markup Language</strong></p>
</div>
</div>
<p><br></p>
<p>Sauvegardez votre fichier Rmd en cliquant sur l’icône disquette (ou en utilisant la combinaison Ctrl + S). Choisissez un nom pour votre fichier et placez-le dans votre dossier <em>docs</em>.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_04.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_05.png" class="img-fluid"></p>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="compiler-un-document-r-markdown" class="level2">
<h2 class="anchored" data-anchor-id="compiler-un-document-r-markdown">Compiler un document R Markdown</h2>
<p>Pour compiler votre fichier Rmd et générer le document au format choisi (<code>html</code> dans notre cas), cliquez sur le bouton <em>Knit</em> : le document s’ouvre dans une nouvelle fenêtre.</p>
<p><img src="img/rmd_06.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Raccourci clavier : compiler un fichier Rmd
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour compiler un fichier Rmd, utilisez la combinaison <strong>Ctrl + Shift + K</strong></p>
</div>
</div>
<p><br></p>
<p>Dans l’explorateur de fichiers vous pouvez remarquer qu’un fichier <strong>mesures_pingouins.html</strong> a été ajouté dans le répertoire <strong>docs</strong> : il s’agit du fichier <code>html</code> issu de la compilation du fichier Rmd. En cliquant sur le nom de ce fichier vous aurez le choix entre l’ouvrir dans l’éditeur ou dans un navigateur internet.</p>
<p><img src="img/rmd_07.png" class="img-fluid" style="width:100.0%"></p>
<p><br></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Prévisualiser le document
</div>
</div>
<div class="callout-body-container callout-body">
<p>Par défaut, lorsque vous compilez un fichier Rmd, le document généré s’ouvre dans une nouvelle fenêtre. Vous pouvez choisir d’afficher cette pré-visualisation directement dans l’onglet <em>Viewer</em> en bas à droite de RStudio en cliquant sur la roue à droite du bouton Knit puis sur <em>Preview in Viewer Pane</em>.</p>
<p>En décochant <em>Show Previews Inline</em>, le résultat de l’exécution de code ne s’affichera plus dans votre fichier <code>Rmd</code>.</p>
<p><img src="img/rmd_08.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><br></p>
</section>
</section>
<section id="les-bases-de-r-markdown" class="level1">
<h1>Les bases de R Markdown</h1>
<p>Pour mettre en forme votre texte, vous allez utiliser la syntaxe markdown.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Editeur visuel
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez modifier votre fichier Rmd à la manière d’un éditeur de texte à l’aide de l’éditeur visuel : cliquez sur le bouton <strong>Visual</strong> en haut du fichier.</p>
<p><img src="img/rmd_10.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><br></p>
<section id="mettre-en-forme-le-texte" class="level2">
<h2 class="anchored" data-anchor-id="mettre-en-forme-le-texte">Mettre en forme le texte</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Saut de ligne
</div>
</div>
<div class="callout-body-container callout-body">
<p>Lorsque vous tapez du texte, pour passer à la ligne suivante, il vous faut insérer <em>deux espaces</em> puis appuyer sur <em>Entrée</em>.</p>
</div>
</div>
<p>Pour mettre en forme votre texte, utilisez les conventions suivantes :</p>
<table class="table">
<tbody>
<tr class="odd">
<td>*italiques*</td>
<td><em>italiques</em></td>
</tr>
<tr class="even">
<td>**gras**</td>
<td><strong>gras</strong></td>
</tr>
<tr class="odd">
<td>***italiques et gras***</td>
<td><strong><em>italiques et gras</em></strong></td>
</tr>
<tr class="even">
<td>~~barré~~</td>
<td><del>barré</del></td>
</tr>
<tr class="odd">
<td>[texte](lien)</td>
<td><a href="lien">texte</a></td>
</tr>
<tr class="even">
<td>texte ^exposant^</td>
<td>texte <sup>exposant</sup></td>
</tr>
<tr class="odd">
<td>texte ~indice ~</td>
<td>texte <sub>indice</sub></td>
</tr>
<tr class="even">
<td>`code`</td>
<td><code>code</code></td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="insérer-des-titres" class="level2">
<h2 class="anchored" data-anchor-id="insérer-des-titres">Insérer des titres</h2>
<p>Pour insérer un titre, utilisez un <code>#</code>. Les différents niveaux (titre, sous-titre, paragraphe, …) se définissent en fonction du nombre de <code>#</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Titre</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Sous-titre</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">### Paragraphe</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
</section>
<section id="insérer-une-ligne-horizontale" class="level2">
<h2 class="anchored" data-anchor-id="insérer-une-ligne-horizontale">Insérer une ligne horizontale</h2>
<p>Pour insérer une ligne horizontale dans votre texte, utilisez <em>trois étoiles</em> <code>***</code>.</p>
<p><br></p>
</section>
<section id="insérer-des-listes" class="level2">
<h2 class="anchored" data-anchor-id="insérer-des-listes">Insérer des listes</h2>
<p>Vous pouvez insérer une liste à puces :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> item a  </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> item b  </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> item c  </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> item c1</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">+</span> item c2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>item a<br>
</li>
<li>item b<br>
</li>
<li>item c
<ul>
<li>item c1</li>
<li>item c2</li>
</ul></li>
</ul>
<p><br></p>
<p>Ou une liste numérotée :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fl">1.</span> item a  </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2.</span> item b  </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fl">3.</span> item c  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>item a<br>
</li>
<li>item b<br>
</li>
<li>item c</li>
</ol>
<p><br></p>
</section>
<section id="insérer-un-tableau" class="level2">
<h2 class="anchored" data-anchor-id="insérer-un-tableau">Insérer un tableau</h2>
<p>Vous pouvez insérer un tableau en le “dessinant” :</p>
<ul>
<li><p>des tirets <code>-</code> pour déparer l’en-tête du reste du tableau</p></li>
<li><p>des barres verticales <code>|</code> pour délimiter les colonnes</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="sc">|</span> col1 <span class="sc">|</span> col2 <span class="sc">|</span> col3 <span class="sc">|</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="sc">----</span> <span class="er">|</span> <span class="sc">----</span> <span class="er">|</span> <span class="sc">----</span> <span class="er">|</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> A    <span class="sc">|</span> <span class="dv">1</span>    <span class="sc">|</span> ech1 <span class="sc">|</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> B    <span class="sc">|</span> <span class="dv">2</span>    <span class="sc">|</span> ech2 <span class="sc">|</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> C    <span class="sc">|</span> <span class="dv">3</span>    <span class="sc">|</span> ech3 <span class="sc">|</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<thead>
<tr class="header">
<th>col1</th>
<th>col2</th>
<th>col3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>A</td>
<td>1</td>
<td>ech1</td>
</tr>
<tr class="even">
<td>B</td>
<td>2</td>
<td>ech2</td>
</tr>
<tr class="odd">
<td>C</td>
<td>3</td>
<td>ech3</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Pour aligner le texte, utilisez deux points <code>:</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="sc">|</span> gauche <span class="sc">|</span> centre <span class="sc">|</span> droite <span class="sc">|</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="er">:</span><span class="sc">-----</span> <span class="er">|</span> <span class="er">:</span><span class="sc">----</span><span class="er">:</span> <span class="er">|</span> <span class="sc">-----</span><span class="er">:</span> <span class="er">|</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> A      <span class="sc">|</span> <span class="dv">1</span>      <span class="sc">|</span> ech1   <span class="sc">|</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> B      <span class="sc">|</span> <span class="dv">2</span>      <span class="sc">|</span> ech2   <span class="sc">|</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> C      <span class="sc">|</span> <span class="dv">3</span>      <span class="sc">|</span> ech3   <span class="sc">|</span>  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;">gauche</th>
<th style="text-align: center;">centre</th>
<th style="text-align: right;">droite</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: center;">1</td>
<td style="text-align: right;">ech1</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: center;">2</td>
<td style="text-align: right;">ech2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">C</td>
<td style="text-align: center;">3</td>
<td style="text-align: right;">ech3</td>
</tr>
</tbody>
</table>
<p><br></p>
</section>
<section id="equations" class="level2">
<h2 class="anchored" data-anchor-id="equations">Equations</h2>
<p>La syntaxe pour insérer une équation se base sur <a href="https://rpruim.github.io/s341/S19/from-class/MathinRmd.html">LaTeX</a> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Un cercle de rayon <span class="sc">$</span>r<span class="sc">$</span> a une aire <span class="sc">$</span>A <span class="ot">=</span> \pi \times r<span class="sc">^</span><span class="dv">2</span><span class="sc">$</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Un cercle de rayon <span class="math inline">\(r\)</span> a une aire <span class="math inline">\(A = \pi \times r^2\)</span></p>
<p>Pour afficher une équation au centre du document, vous pouvez l’encadrer de deux signes <code>$</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Un cercle de rayon <span class="sc">$</span>r<span class="sc">$</span> a une aire <span class="sc">$</span><span class="er">$</span>A <span class="ot">=</span> \pi \times r<span class="sc">^</span><span class="dv">2</span><span class="sc">$</span><span class="er">$</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Un cercle de rayon <span class="math inline">\(r\)</span> a une aire <span class="math display">\[A = \pi \times r^2\]</span></p>
<p><br></p>
</section>
<section id="insérer-une-image" class="level2">
<h2 class="anchored" data-anchor-id="insérer-une-image">Insérer une image</h2>
<p>Vous pouvez insérer une image dans votre fichier :</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Chemins vers les fichiers
</div>
</div>
<div class="callout-body-container callout-body">
<p>Lorsque que vous indiquez un chemin vers un fichier dans RMarkdown, le dossier “racine” n’est plus votre répertoire de travail (votre projet) mais le dossier dans lequel se trouve le fichier .Rmd, dans le cas présent le répertoire <em>docs/</em>.</p>
<p>Il faut donc revenir en arrière d’un niveau, à l’aide de <strong><code>../</code></strong>.</p>
<p>Lorsque vous naviguez dans une arborescence à l’aide de la ligne de commande, <strong><code>.</code></strong> indique le répertoire de travail et <strong><code>..</code></strong> le répertoire situé un niveau au-dessus dans votre arborescence.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>[](..<span class="sc">/</span>figs<span class="sc">/</span>pingouins.png){width<span class="ot">=</span><span class="st">"75%"</span>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><img src="img/rmd_18.png" class="img-fluid" style="width:75.0%"></p>
<p>Vous pouvez ajouter une légende entre les crochets <code>[]</code>. L’option <code>width</code> permet d’ajuster la largeur relative de l’image.</p>
<p><br></p>
</section>
</section>
<section id="rédiger-un-document-de-façon-dynamique" class="level1">
<h1>Rédiger un document de façon dynamique</h1>
<p>Lorsque vous rédigez un rapport, vous pouvez le faire <em>“en dur”</em>, c’est-à-dire inscrire directement dans le texte toutes les valeurs numériques, les résultats de calculs, insérer des graphiques générés séparément, …</p>
<p>Cette façon de procéder présente un désavantage majeur : votre document ne sera valable qu’une seule fois pour une seule analyse (vous pourrez toujours le ré-utiliser en remplaçant les valeurs numériques). De plus, le risque d’erreur est non négligeable : coller des valeurs numériques copiées depuis un autre logiciel peut donner des mauvaises surprises.</p>
<p>R Markdown vous permet de rédiger votre fichier de façon <em>“dynamique”</em>. Vous pouvez ainsi importer les fichiers nécessaires à votre analyse, effectuer des calculs et générer des graphiques à l’aide de code R qui sera compilé.</p>
<p>Votre fichier <code>Rmd</code> pourra ainsi être modifié et ré-utilisé pour des analyses similaires sur d’autres jeux de données.</p>
<p><br></p>
<section id="insérer-un-bloc-de-code-r" class="level2">
<h2 class="anchored" data-anchor-id="insérer-un-bloc-de-code-r">Insérer un bloc de code R</h2>
<p>Commençons par importer notre jeu de données. Nous allons pour cela insérer un <em>bloc de code</em> dans notre fichier.</p>
<p>Pour insérer un bloc de code, cliquez sur l’icône située en haut à droite du fichier <code>Rmd</code>et choisissez <code>R</code> (d’autres langages de programmation sont disponibles).</p>
<p><img src="img/rmd_56.png" class="img-fluid" style="width:100.0%"></p>
<p>Un bloc de code contient les éléments suivants :</p>
<ul>
<li><p>des <em>accents</em> <em>```</em> pour délimiter le bloc</p></li>
<li><p>des accolades contenant des informations : <code>{r}</code> (nous verrons d’autres paramètres plus loin)</p></li>
<li><p>trois icônes :</p>
<ul>
<li><p>une <em>roue</em> pour ajouter des options</p></li>
<li><p>une flèche pointant vers le bas pour exécuter tout le code jusqu’à ce bloc</p></li>
<li><p>une flèche pointant vers la droite pour exécuter le bloc (vous pouvez également exécuter le code d’un bloc en vous positionnant sur le code et en utilisant la combinaison <em>Ctrl</em> + <em>Entrée</em>)</p></li>
</ul></li>
</ul>
<p><br></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Raccourci clavier : insérer un bloc de code
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour insérer un bloc de code, utiliser la combinaison <strong>Ctrl + Alt + I</strong></p>
</div>
</div>
<p><br></p>
<p>Ajoutez le code suivant dans ce bloc de code et exécutez-le (attention au chemin !) :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>pingouins <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"../data/pingouins_propre.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Le fichier a bien été importé et stocké dans l’objet <strong>pingouins</strong> visible dans l’environnement.</p>
<p>Lorsque vous compilez votre fichier Rmd, le code est exécuté et s’affiche dans votre document de sortie (au format <code>html</code>). L’objet <code>pingouins</code> n’est pas visible dans l’environnement lorsque vous compilez votre fichier Rmd, mais il est bel et bien disponible et vous pourrez le manipuler à l’aide de blocs de code.</p>
<p><br></p>
</section>
<section id="paramétrer-un-bloc-de-code" class="level2">
<h2 class="anchored" data-anchor-id="paramétrer-un-bloc-de-code">Paramétrer un bloc de code</h2>
<p>Lorsque vous insérez un bloc de code, des paramètres vous permettent de préciser si le code doit être affiché ou non, exécuté ou non, …</p>
<p>Vous pouvez régler certains paramètres en cliquant sur la <em>roue</em> à droite du bloc :</p>
<p><img src="img/rmd_57.png" class="img-fluid" style="width:100.0%"></p>
<p>Vous pouvez également renseigner ces paramètres directement dans les accolades : <code>{r, eval = FALSE}</code> par exemple.</p>
<table class="table">
<thead>
<tr class="header">
<th>option</th>
<th>par défaut</th>
<th>effet</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>eval</td>
<td>TRUE</td>
<td>évaluer le code et inclure le résultat</td>
</tr>
<tr class="even">
<td>echo</td>
<td>TRUE</td>
<td>afficher le code avec le résultat</td>
</tr>
<tr class="odd">
<td>warning</td>
<td>TRUE</td>
<td>afficher les messages d’avertissement</td>
</tr>
<tr class="even">
<td>error</td>
<td>FALSE</td>
<td>afficher les messages d’erreur</td>
</tr>
</tbody>
</table>
<p><br></p>
<p>Si vous le souhaitez, vous pouvez définir en haut de votre fichier <code>Rmd</code> les paramètres à appliquer à l’ensemble des blocs de code :</p>
<p><img src="img/rmd_58.png" class="img-fluid" style="width:100.0%"></p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bonnes pratiques : nommer les blocs de code
</div>
</div>
<div class="callout-body-container callout-body">
<p>Comme vous pouvez le voir dans le dernier exemple, il est utile de nommer les blocs de code :</p>
<ul>
<li><p>en utilisant la roue à droite du bloc et en tapant le nom dans <em>Chunck Name</em></p></li>
<li><p>en tapant le nom directement dans les accolades</p></li>
</ul>
</div>
</div>
</section>
<section id="exécuter-du-code-dans-le-texte" class="level2">
<h2 class="anchored" data-anchor-id="exécuter-du-code-dans-le-texte">Exécuter du code dans le texte</h2>
<p>Nous avons vu plus haut comment insérer du texte au format code.</p>
<p>Vous pouvez exécuter le code en ajoutant un <code>r</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>La racine carrée de <span class="dv">20</span> est <span class="sc">**</span><span class="st">`</span><span class="at">r sqrt(20)</span><span class="st">`</span><span class="sc">**</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>La racine carrée de 20 est <strong>4.472136</strong></p>
<p><br></p>
</section>
</section>
<section id="transformer-un-script-en-.rmd" class="level1">
<h1>Transformer un script en .Rmd</h1>
<p>Dans le tutoriel <a href="https://ateliers-codons.netlify.app/posts/02-premiers-pas-avec-r/">Premiers pas avec R</a> nous avons vu comment nettoyer, manipuler et représenter des données.</p>
<p>Nous allons transformer le script utilisé pour cette analyse en un fichier <code>Rmd</code> qui sera compilé pour générer un rapport. Téléchargez le script <a href="https://raw.githubusercontent.com/codons-blog/ateliers_codons/main/scripts/intro_rmd.R">ici</a> et sauvegardez-le dans le dossier <code>scripts</code> de votre projet. Ouvrez-le afin de l’avoir à portée de main (il s’ouvrira dans un nouvel onglet à côté de votre fichier <code>Rmd</code>)</p>
<section id="introduction-1" class="level2">
<h2 class="anchored" data-anchor-id="introduction-1">Introduction</h2>
<p>Commençons par rédiger une courte introduction avec les éléments suivants :</p>
<ul>
<li><p>nom du fichier</p></li>
<li><p>lien vers l’étude</p></li>
<li><p>image avec référence et lien</p></li>
</ul>
<p>Copiez le texte ci-dessous et collez-le dans votre fichier <code>Rmd</code> :</p>
<pre><code>Le fichier `pingouins.csv` contient des mesures pour [trois espèces de pingouins vivant en Antarctique (archipel Palmer)](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0090081#s2).

![[Dessin de @allison_horst](https://allisonhorst.com/)](../figs/pingouins.png){width="50%"}</code></pre>
<p><br></p>
</section>
<section id="importer-les-données" class="level2">
<h2 class="anchored" data-anchor-id="importer-les-données">Importer les données</h2>
<p>Pour utiliser les données dans notre fichier <code>Rmd</code> nous devons les importer.</p>
<p>Dans le cadre de ce tutoriel nous choisissons de ne pas faire apparaître le code utilisé pour importer les données. Nous ajoutons donc les paramètres nécessaires dans le bloc de code. Comme dans un script, nous commentons les blocs de code.</p>
<pre><code>```{r, importer donnees, echo=FALSE}
# Importer les donnees sans afficher le code
pingouins &lt;- read.csv("../data/pingouins_propre.csv")
```</code></pre>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Modifier le répertoire de compilation
</div>
</div>
<div class="callout-body-container callout-body">
<p>Vous pouvez modifier le répertoire à partir duquel se fait la compilation en cliquant sur la flèche à droite du bouton <em>Knit</em> puis sur <em>Knit directory</em> et choisir <em>Project Directory</em>. Cela ne vaut que pour le code exécuté à l’intérieur d’un bloc, pour l’insertion d’images par exemple il vous faudra toujours remonter d’un niveau dans le chemin : <code>../</code>.</p>
<p><img src="img/rmd_64.png" class="img-fluid" style="width:100.0%"></p>
</div>
</div>
<p><br></p>
</section>
<section id="décrire-les-données" class="level2">
<h2 class="anchored" data-anchor-id="décrire-les-données">Décrire les données</h2>
<p>Nous pouvons afficher les dimensions du tableau à l’aide de code dynamique :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>Le jeu de données contient <span class="sc">**</span><span class="st">`</span><span class="at">r nrow(pingouins)</span><span class="st">`</span> observations<span class="sc">**</span> et <span class="sc">**</span><span class="st">`</span><span class="at">r ncol(pingouins)</span><span class="st">`</span> variables<span class="sc">**</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nous pouvons extraire les noms des espèces et des îles :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Les mesures concernent <span class="sc">**</span><span class="st">`</span><span class="at">r length(unique(pingouins$espece))</span><span class="st">`</span> espèces<span class="sc">**</span> de pingouins <span class="sc">:</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="er">*</span><span class="st">`</span><span class="at">r sort(unique(pingouins$espece))[1]</span><span class="st">`</span><span class="sc">*</span>  </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="er">*</span><span class="st">`</span><span class="at">r sort(unique(pingouins$espece))[2]</span><span class="st">`</span><span class="sc">*</span>  </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="er">*</span><span class="st">`</span><span class="at">r sort(unique(pingouins$espece))[3]</span><span class="st">`</span><span class="sc">*</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>Ces pingouins vivent sur <span class="sc">**</span><span class="st">`</span><span class="at">r length(unique(pingouins$ile))</span><span class="st">`</span> îles<span class="sc">**</span> <span class="er">:</span> </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="st">`</span><span class="at">r sort(unique(pingouins$ile))[1]</span><span class="st">`</span> </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="st">`</span><span class="at">r sort(unique(pingouins$ile))[2]</span><span class="st">`</span>  </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="st">`</span><span class="at">r sort(unique(pingouins$ile))[3]</span><span class="st">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Comment les espèces sont-elles réparties sur les îles ?</p>
<pre><code>Les individus se répartissent de la façon suivante : 


```{r, repartition individus, echo=FALSE, comment=""}
# Tableau de la répartition des individus
table(pingouins$espece, pingouins$ile)
```</code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Afficher ou non les # en sortie
</div>
</div>
<div class="callout-body-container callout-body">
<p>Le paramètre <code>comment = ""</code> utilisé dans le bloc de code ci-dessus permet de ne pas afficher de <code>#</code> dans la sortie.</p>
</div>
</div>
<p>Quelles sont les variables du tableau ?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Les variables sont les suivantes <span class="sc">:</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> variable                <span class="sc">|</span> type                       <span class="sc">|</span> exemple             <span class="sc">|</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="er">:</span><span class="sc">---------------------</span><span class="er">:</span> <span class="er">|</span> <span class="er">:</span><span class="sc">------------------------</span><span class="er">:</span> <span class="er">|</span> <span class="er">:</span><span class="sc">-----------------</span><span class="er">:</span> <span class="er">|</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[1]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 1])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 1]</span><span class="st">`</span> <span class="sc">|</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[2]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 2])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 2]</span><span class="st">`</span> <span class="sc">|</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[3]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 3])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 3]</span><span class="st">`</span> <span class="sc">|</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[4]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 4])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 4]</span><span class="st">`</span> <span class="sc">|</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[5]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 5])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 5]</span><span class="st">`</span> <span class="sc">|</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="er">|</span> <span class="st">`</span><span class="at">r names(pingouins)[6]</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r typeof(pingouins[, 6])</span><span class="st">`</span> <span class="sc">|</span> <span class="st">`</span><span class="at">r pingouins[1, 6]</span><span class="st">`</span> <span class="sc">|</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour clore cette description du jeu de données, affichons les premières lignes du tableau. La fonction <code>kable()</code> du package <code>knitr</code> permet d’afficher des tableaux :</p>
<pre><code>Les données se présentent comme ci-dessous : 


```{r, apercu tableau, echo=FALSE}
# Afficher les 3 premieres lignes
knitr::kable(head(pingouins, 3))
```</code></pre>
</section>
<section id="représenter-les-données" class="level2">
<h2 class="anchored" data-anchor-id="représenter-les-données">Représenter les données</h2>
<p>R Markdown permet d’exécuter le code utilisé pour générer un graphique et d’afficher celui-ci directement dans le document.</p>
<section id="nombre-dindividus-par-espèce" class="level3">
<h3 class="anchored" data-anchor-id="nombre-dindividus-par-espèce">Nombre d’individus par espèce</h3>
<pre><code>Quelle est l'espèce la plus représentée ?


```{r, nombre individus, echo=FALSE}
# Barplot : nombre d'individus par espece 
barplot(sort(table(pingouins$espece), decreasing = TRUE),
        col = c("Adelie" = "darkorange",
                "Chinstrap" = "cyan4",
                "Gentoo" = "purple"),
        border = NA,
        main = "Pingouins de l'archipel Palmer",
        ylab = "Nombre d'individus par espèce",
        ylim = c(0, 200))
```</code></pre>
</section>
<section id="rapport-entre-la-longueur-et-la-hauteur-du-bec" class="level3">
<h3 class="anchored" data-anchor-id="rapport-entre-la-longueur-et-la-hauteur-du-bec">Rapport entre la longueur et la hauteur du bec</h3>
<pre><code>Les mesures du bec permettent-elles de différencier les espèces ?


```{r, ratio bec, echo=FALSE}
# Calculer le ratio entre la longueur et la hauteur du bec
pingouins$ratio_bec &lt;- round(pingouins$longueur_bec_mm / pingouins$hauteur_bec_mm,
                             digits = 2)

# Boxplot : ratio du bec en fonction de l'espece
boxplot(pingouins$ratio_bec ~ pingouins$espece,
        col = NA,
        border = c("Adelie" = "darkorange",
                   "Chinstrap" = "cyan4",
                   "Gentoo" = "purple"),
        pch = 20,
        main = "Rapport entre la longueur et la hauteur du bec",
        xlab = "",
        ylab = "Ratio")
```</code></pre>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Afficher deux graphiques côte à côte
</div>
</div>
<div class="callout-body-container callout-body">
<p>Pour afficher deux graphiques côte à côte, vous pouvez utiliser les paramètres suivants : <code>{r, out.width=c("50%", "50%"), fig.show="hold"}</code></p>
<ul>
<li><p><code>out.width</code> permet d’ajuster les largeurs relatives des graphiques (en %)</p></li>
<li><p><code>fig.show="hold"</code> indique à R qu’il doit exécuter l’ensemble du code avant d’afficher les graphiques (sans ce paramètre, les deux graphiques seront affichés l’un au-dessus de l’autre)</p></li>
</ul>
</div>
</div>
</section>
<section id="distribution-de-la-masse-corporelle" class="level3">
<h3 class="anchored" data-anchor-id="distribution-de-la-masse-corporelle">Distribution de la masse corporelle</h3>
<pre><code>Comment se distribue la masse corporelle de l'ensemble des pingouins ?


```{r, distribution masse, echo=FALSE}
# Histogramme : distribution de la masse corporelle
hist(pingouins$masse_corporelle_g / 1000,
     breaks = 20,
     col = "lightblue",
     border = "darkblue",
     ylim = c(0, 50),
     main = "Distribution de la masse corporelle",
     xlab = "Masse (kgs)",
     ylab = "Fréquence")
```</code></pre>
</section>
<section id="relation-entre-la-longueur-des-ailes-et-la-longueur-du-bec" class="level3">
<h3 class="anchored" data-anchor-id="relation-entre-la-longueur-des-ailes-et-la-longueur-du-bec">Relation entre la longueur des ailes et la longueur du bec</h3>
<pre><code>Y a-t-il une relation entre la longueur des ailes et la longueur du bec ?
Ces mesures varient-elles en fonction de l'espèce ?


```{r, distribution masse, echo=FALSE}
# Ajouter une variable couleur 
pingouins$couleur[pingouins$espece == "Adelie"] &lt;- "darkorange"
pingouins$couleur[pingouins$espece == "Chinstrap"] &lt;- "purple"
pingouins$couleur[pingouins$espece == "Gentoo"] &lt;- "cyan4"

# Scatter plot : longueur des ailes vs longueur du bec
plot(x = pingouins$longueur_aile_mm, y = pingouins$longueur_bec_mm,
     col = pingouins$couleur,
     pch = 20,
     main = "Relation entre la longueur des ailes et la longueur du bec",
     xlab = "Longueur des ailes (mm)",
     ylab = "Longueur du bec (mm)")
legend(legend = sort(unique(pingouins$espece)),
       x = 215,
       y = 40,
       col = c("darkorange", "purple", "cyan4"),
       pch = 19)
```</code></pre>
</section>
</section>
</section>
<section id="modifier-le-format-du-document" class="level1">
<h1>Modifier le format du document</h1>
<p>Par défaut, un fichier <code>Rmd</code> est compilé en un document <code>html</code>. Vous pouvez choisir d’autres formats de sortie, en modifiant les paramètres de l’en-tête.</p>
<p>En fonction du format choisi, il peut y avoir des ajustements à faire au niveau de la mise en page.</p>
<section id="document-word" class="level2">
<h2 class="anchored" data-anchor-id="document-word">Document Word</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  word_document</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="document-pdf" class="level2">
<h2 class="anchored" data-anchor-id="document-pdf">Document PDF</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  pdf_document</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="modifier-lapparence-dun-document" class="level1">
<h1>Modifier l’apparence d’un document</h1>
<p>Des paramètres permettent de modifier l’apparence d’un document.</p>
<p>Les possibilités diffèrent selon le format de votre document.</p>
<section id="ajouter-une-table-des-matières" class="level2">
<h2 class="anchored" data-anchor-id="ajouter-une-table-des-matières">Ajouter une table des matières</h2>
<p>Vous pouvez ajouter une table des matières, toujours à l’aide de paramètres à ajouter dans l’en-tête.</p>
<ul>
<li><p><code>toc: true</code> : ajouter une table des matières (<em>table of contents</em>) au début du document</p></li>
<li><p><code>toc_float: true</code> : table des matières “flottante” (pour un document au format <code>html</code>)</p></li>
<li><p><code>toc_depth: 1</code> : nombre de niveaux à inclure dans la table des matières</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    toc<span class="sc">:</span> true</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    toc_float<span class="sc">:</span> true</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    toc_depth<span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="modifier-le-thème" class="level2">
<h2 class="anchored" data-anchor-id="modifier-le-thème">Modifier le thème</h2>
<p>Vous pouvez modifier le style général de votre document au format <code>html</code> en changeant le thème (<code>default</code>, <code>bootstrap</code>, <code>cerulean</code>, <code>cosmo</code>, <code>darkly</code>, <code>flatly</code>, <code>journal</code>, <code>lumen</code>, <code>paper</code>, <code>readable</code>, <code>sandstone</code>, <code>simplex</code>, <code>spacelab</code>, <code>united</code> et <code>yeti</code>).</p>
<p>Pour n’utiliser aucun thème, utilisez l’option <code>theme: null</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  html_document<span class="sc">:</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    toc<span class="sc">:</span> true</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    toc_depth<span class="sc">:</span> <span class="dv">2</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    theme<span class="sc">:</span> flatly</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="partager-un-document" class="level1">
<h1>Partager un document</h1>
<p>Une fois votre fichier <code>Rmd</code> compilé, vous pourriez vouloir le partager.</p>
<p>La solution la plus simple est de compiler votre fichier dans un format <code>word</code> ou <code>pdf</code> et de le partager directement.</p>
<p>Le partage d’un document <code>html</code> nécessite de déposer votre document en ligne. En effet, si vous partagez un document au format <code>html</code> tel quel, la personne qui le reçoit ne verra que le texte et pas les figures ni les images. Vous pouvez déposer votre document sur le site <a href="https://rpubs.com/">RPubs</a>. Créez un compte en cliquant sur <code>Register</code> :</p>
<p><img src="img/rmd_59.png" class="img-fluid"></p>
<p>Assurez-vous de compiler la dernière version de votre fichier puis cliquez sur <em>Publish</em> et sur <em>RPubs</em> :</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_60.png" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="img/rmd_61.png" class="img-fluid"></p>
</div>
</div>
</div>
<p>Cliquez à nouveau sur <em>Publish</em> :</p>
<p><img src="img/rmd_62.png" class="img-fluid"></p>
<p>Une fenêtre s’ouvre dans votre navigateur internet, vous pouvez y indiquer le titre du document, ajouter une description et choisir le lien :</p>
<p><img src="img/rmd_63.png" class="img-fluid"></p>
<p>Pour terminer, cliquez sur <em>Continue</em>. Votre document est désormais disponible en ligne, vous pouvez partager le lien.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Données sensibles
</div>
</div>
<div class="callout-body-container callout-body">
<p>Attention ! Les documents déposés sur <em>RPubs</em> sont publics et accessibles à tous. Pour rendre vos documents “privés” il existe d’autres solutions, notamment en passant par ce que l’on appelle des pages <em>GitHub</em> ou <em>GitLab</em> …</p>
</div>
</div>
</section>
<section id="bonus-créer-un-diaporama" class="level1">
<h1>Bonus : créer un diaporama</h1>
<p>R Markdown vous permet également de générer un diaporama. Le contenu d’une présentation étant généralement plus succinct qu’un rapport, il est préférable de sauvegarder votre fichier <code>Rmd</code> sous un autre nom afin de le retravailler.</p>
<p>Pour cela, cliquez sur <em>File</em> &gt; <em>Save as</em> et donnez un autre nom à votre fichier (par exemple <code>mesures_pingouins_diapos.Rmd</code>).</p>
<p>Différents formats sont disponibles : <code>ioslides</code>, <code>slidy</code>, <code>beamer</code> et <code>powerpoint</code>. Chaque format propose différents paramètres de personnalisation.</p>
<p>Créons une présentation <code>powerpoint</code> :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">"Pingouins de l'archipel Palmer"</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> Jonathan Kitt</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="dv">2022-11-14</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  powerpoint_presentation</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Pour changer de diapositive, vous avez deux options :</p>
<ul>
<li><p>ajouter un titre avec <code>#</code></p></li>
<li><p>insérer un <em>saut de page</em> avec trois tirets <code>---</code></p></li>
</ul>
<p>Nous apportons quelques modifications à notre présentation :</p>
<ul>
<li><p>suppression des titres des graphiques</p></li>
<li><p>modification de la taille du texte pour la légende de la dernière figure</p></li>
</ul>
<p>Vous pouvez copier le code ci-dessous pour générer votre présentation. Compilez votre fichier : un fichier <code>.pptx</code> apparaît dans votre répertoire <code>docs</code>.</p>
<pre><code>---
title: "Pingouins de l'archipel Palmer"
author: Jonathan Kitt
date: 2022-11-14
output:
  powerpoint_presentation
---


```{r, importer donnees, echo=FALSE}
# Importer les donnees sans afficher le code
pingouins &lt;- read.csv("../data/pingouins_propre.csv")
```


---

Le fichier `pingouins.csv` contient des mesures pour **trois espèces** de pingouins vivant sur **trois îles** l'Archipel Palmer en Antarctique.


![](../figs/pingouins.png){width="20%"}

---

Les individus se répartissent de la façon suivante : 


```{r, repartition individus, echo=FALSE, comment=""}
# Tableau de la répartition des individus
table(pingouins$espece, pingouins$ile)
```


# Nombre d'individus par espèce 


```{r, nombre individus, echo=FALSE}
# Barplot : nombre d'individus par espece 
barplot(sort(table(pingouins$espece), decreasing = TRUE),
        col = c("Adelie" = "darkorange",
                "Chinstrap" = "cyan4",
                "Gentoo" = "purple"),
        border = NA,
        ylab = "Nombre d'individus par espèce",
        ylim = c(0, 200))
```


# Rapport entre la longueur et la hauteur du bec


```{r, ratio bec, echo=FALSE}
# Calculer le ratio entre la longueur et la hauteur du bec
pingouins$ratio_bec &lt;- round(pingouins$longueur_bec_mm / pingouins$hauteur_bec_mm,
                             digits = 2)

# Boxplot : ratio du bec en fonction de l'espece
boxplot(pingouins$ratio_bec ~ pingouins$espece,
        col = NA,
        border = c("Adelie" = "darkorange",
                   "Chinstrap" = "cyan4",
                   "Gentoo" = "purple"),
        pch = 20,
        xlab = "",
        ylab = "Ratio")
```


# Distribution de la masse corporelle


```{r, distribution masse, echo=FALSE}
# Histogramme : distribution de la masse corporelle
hist(pingouins$masse_corporelle_g / 1000,
     breaks = 20,
     col = "lightblue",
     border = "darkblue",
     ylim = c(0, 50),
     xlab = "Masse (kgs)",
     ylab = "Fréquence")
```


# Relation entre la longueur des ailes et la longueur du bec


```{r, relation longueur ailes vs longueur bec, echo=FALSE}

# Ajouter une variable couleur 
pingouins$couleur[pingouins$espece == "Adelie"] &lt;- "darkorange"
pingouins$couleur[pingouins$espece == "Chinstrap"] &lt;- "purple"
pingouins$couleur[pingouins$espece == "Gentoo"] &lt;- "cyan4"

# Scatter plot : longueur des ailes vs longueur du bec
plot(x = pingouins$longueur_aile_mm, y = pingouins$longueur_bec_mm,
     col = pingouins$couleur,
     pch = 20,
     xlab = "Longueur des ailes (mm)",
     ylab = "Longueur du bec (mm)")
legend(legend = sort(unique(pingouins$espece)),
       x = 215,
       y = 40,
       col = c("darkorange", "purple", "cyan4"),
       pch = 19,
       cex = 0.75)
```</code></pre>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>